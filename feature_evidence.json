{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-add-react-query-hooks-to-frontend-src-hooks-usequeries-ts-for-the-new-order-approval-backend-functions-useapproveorder-mutation-calling-approveorder-usedeclineorder-mutation-calling-declineorder-and-useordersbybuyer-query-calling-getordersbybuyer-with-the-authenticated-user-s-principal-all-mutations-must-await-the-actor-call-unwrap-the-ok-err-result-variant-throw-a-javascript-error-on-err-and-invalidate-the-orders-query-cache-on-success-the-useordersbybuyer-query-must-be-enabled-only-when-the-user-is-authenticated",
      "featureTitle": "Add React Query hooks to `frontend/src/hooks/useQueries.ts` for the new order approval backend functions: `useApproveOrder()` mutation calling `approveOrder`, `useDeclineOrder()` mutation calling `declineOrder`, and `useOrdersByBuyer()` query calling `getOrdersByBuyer` with the authenticated user's principal. All mutations must await the actor call, unwrap the `#ok`/`#err` Result variant, throw a JavaScript `Error` on `#err`, and invalidate the `orders` query cache on success. The `useOrdersByBuyer` query must be enabled only when the user is authenticated.",
      "files": [
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-76"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-update-frontend-src-components-checkout-giftcardpayment-tsx-to-capture-two-additional-fields-during-the-gift-card-checkout-step-a-gift-card-number-text-input-and-a-gift-card-balance-text-input-or-select-these-values-must-be-passed-through-to-the-order-placement-call-so-they-are-stored-on-the-order-record-in-the-backend-both-fields-are-required-before-the-user-can-confirm-the-order",
      "featureTitle": "Update `frontend/src/components/checkout/GiftCardPayment.tsx` to capture two additional fields during the gift card checkout step: a 'Gift Card Number' text input and a 'Gift Card Balance' text input (or select). These values must be passed through to the order placement call so they are stored on the order record in the backend. Both fields are required before the user can confirm the order.",
      "files": [
        "frontend/src/components/checkout/GiftCardPayment.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-77"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-update-the-placeorder-mutation-in-frontend-src-hooks-usequeries-ts-and-the-order-placement-logic-in-frontend-src-pages-checkoutpage-tsx-to-pass-giftcardnumber-and-giftcardbalance-fields-when-the-selected-payment-method-is-gift-card-for-all-other-payment-methods-these-fields-must-be-sent-as-empty-strings-to-match-the-updated-backend-order-type",
      "featureTitle": "Update the `placeOrder` mutation in `frontend/src/hooks/useQueries.ts` and the order placement logic in `frontend/src/pages/CheckoutPage.tsx` to pass `giftCardNumber` and `giftCardBalance` fields when the selected payment method is 'Gift Card'. For all other payment methods, these fields must be sent as empty strings to match the updated backend Order type.",
      "files": [
        "frontend/src/hooks/useQueries.ts",
        "frontend/src/pages/CheckoutPage.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-78"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-create-a-new-admin-component-frontend-src-components-admin-paymentsmanager-tsx-this-component-must-1-fetch-all-orders-via-the-existing-orders-query-2-display-each-order-in-a-table-or-card-list-showing-buyer-username-email-contact-info-product-s-purchased-payment-method-badge-approval-status-badge-pending-amber-approved-green-declined-red-and-for-gift-card-orders-the-gift-card-number-and-balance-3-provide-approve-and-decline-buttons-per-order-that-call-the-useapproveorder-and-usedeclineorder-mutations-respectively-4-show-a-success-or-error-toast-on-each-action-5-apply-the-sunset-theme-consistently-dusk-bg-dusk-mid-backgrounds-sunset-gold-sunset-orange-sunset-pink-accent-colours-orbitron-rajdhani-fonts",
      "featureTitle": "Create a new admin component `frontend/src/components/admin/PaymentsManager.tsx`. This component must: (1) fetch all orders via the existing orders query; (2) display each order in a table or card list showing: buyer username, email, contact info, product(s) purchased, payment method badge, approval status badge (`#pending` = amber, `#approved` = green, `#declined` = red), and — for gift card orders — the gift card number and balance; (3) provide 'Approve' and 'Decline' buttons per order that call the `useApproveOrder` and `useDeclineOrder` mutations respectively; (4) show a success or error toast on each action; (5) apply the sunset theme consistently (dusk-bg/dusk-mid backgrounds, sunset-gold/sunset-orange/sunset-pink accent colours, Orbitron/Rajdhani fonts).",
      "files": [
        "frontend/src/components/admin/PaymentsManager.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-79"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-add-a-new-payments-tab-to-the-admin-panel-in-frontend-src-pages-adminpanelpage-tsx-alongside-the-existing-products-orders-admins-subscriptions-and-settings-tabs-the-tab-content-must-render-the-paymentsmanager-component-the-tab-must-be-labelled-payments-and-must-not-disrupt-the-existing-tab-order-or-default-active-tab",
      "featureTitle": "Add a new 'Payments' tab to the admin panel in `frontend/src/pages/AdminPanelPage.tsx`, alongside the existing Products, Orders, Admins, Subscriptions, and Settings tabs. The tab content must render the `PaymentsManager` component. The tab must be labelled 'Payments' and must not disrupt the existing tab order or default active tab.",
      "files": [
        "frontend/src/pages/AdminPanelPage.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-80"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-add-an-in-app-order-status-notification-to-frontend-src-pages-orderconfirmationpage-tsx-that-displays-the-current-approvalstatus-of-the-order-pending-approved-declined-fetched-live-from-the-backend-the-status-must-update-reactively-if-an-admin-approves-or-declines-the-order-after-the-page-is-loaded-the-buyer-should-see-the-updated-status-on-refresh-or-via-polling-react-query-refetch-interval-of-30-seconds-is-acceptable-display-the-status-with-a-clear-label-and-colour-coded-indicator-amber-for-pending-green-for-approved-red-for-declined",
      "featureTitle": "Add an in-app order status notification to `frontend/src/pages/OrderConfirmationPage.tsx` that displays the current `approvalStatus` of the order (Pending / Approved / Declined) fetched live from the backend. The status must update reactively — if an admin approves or declines the order after the page is loaded, the buyer should see the updated status on refresh or via polling (React Query refetch interval of 30 seconds is acceptable). Display the status with a clear label and colour-coded indicator: amber for pending, green for approved, red for declined.",
      "files": [
        "frontend/src/hooks/useQueries.ts",
        "frontend/src/pages/OrderConfirmationPage.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "qr-code@1.0.0",
        "camera@1.0.0"
      ],
      "testIds": [
        "REQ-81"
      ],
      "confidence": "high"
    }
  ]
}