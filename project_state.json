{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 41,
  "summary": "A Shopify-style gaming accounts e-commerce store called Game Vault with a loading screen that features a royalty-free New York sunset video (sourced from a public CDN such as Pexels or Pixabay) playing as the background, replacing the previous 3D Three.js scene entirely. The loading screen enforces a minimum 40-second wait with a 'Game Vault' gradient text (red → purple → orange) progress reveal effect and an 'Enter Store' button that unlocks after 40 seconds. Store sells gaming accounts starting with Car Parking Multiplayer. Features full admin panel, user authentication via Internet Identity, and checkout flows for PayPal, Crypto, UK Gift Cards, and Pay in 3 Installments. The storefront logo has been removed and the 'Game Vault' site name displays a red → purple → orange 3-tone gradient across navbar, footer, loading screen, and all instances. Users must create a unique username (no spaces) on first login before accessing the store; username is used for purchases (order confirmations show username, email, contact info, and product purchased) and for admin panel access control. Admin Panel link is visible to all users in the navbar but only whitelisted usernames can enter. Store owner manages the admin whitelist in the backend. The username 'Frosty' is hardcoded as the initial seed admin in the backend whitelist. The overall website theme is a sunset aesthetic — warm golden-oranges, deep purples, dusky pinks, and soft golden yellows. The 'Game Vault' gradient text (red → purple → orange) remains unchanged. A Subscriptions tab has been added to the navbar with 4 tiers (Starter, Basic, Premium, Pro), each offering progressive perks and discounts. Users toggle between monthly/yearly billing with a disclaimer shown under all tier titles. Pro tier unlocks all perks. PayPal and Crypto are the only supported payment methods for subscriptions. Admins can edit monthly and yearly prices per tier independently, toggle a 7-day free trial on/off per tier, and all changes reflect on the user-facing subscriptions tab. Subscription tier data is stored in backend stable storage.",
  "architectural_notes": [
    "Full-stack app on Internet Computer (ICP) with Internet Identity for auth",
    "Payment methods (PayPal, Crypto, UK Gift Cards, Pay in 3) built as UI/checkout flows; real API keys must be connected by owner",
    "Username system (no spaces) required on first Internet Identity login; stored against identity and used for purchases and admin panel access control",
    "Username 'Frosty' is hardcoded as the initial seed admin in the backend whitelist",
    "Loading screen now uses a royalty-free NYC sunset video (public CDN URL) as the background instead of a Three.js 3D scene; 40-second timer and progress reveal logic remain",
    "Subscription tiers (Starter, Basic, Premium, Pro) stored in backend stable storage with monthly price, yearly price, perks list, and free trial enabled flag; admin-editable via admin panel",
    "Admin-configurable wallet addresses (PayPal email, Bitcoin address, Ethereum address) stored in backend stable storage; Bitcoin and Ethereum addresses shown to customers during crypto checkout as QR code + copyable text"
  ],
  "known_issues": [
    "Admin panel create product and create category flows throw errors; backend addCategory/addProduct calls and frontend admin panel components need fixing",
    "Previous deployment attempt failed; user requested rebuild and successful deployment",
    "Admin panel denies access with 'no admin permissions' even for whitelisted users (Frosty); isAdminUsername check or username-based gate logic is broken in frontend-backend wiring",
    "Admin category creation is broken — admins cannot create categories; addCategory backend/frontend flow needs end-to-end fix",
    "Step 1 build (admin wallet settings + crypto checkout QR display) failed twice; retrying with tighter scope"
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-build-a-3d-three-js-react-three-fiber-animated-loading-screen-that-plays-before-the-main-store-loads-the-scene-must-depict-a-new-york-city-sunset-skyline-as-the-backdrop-with-a-mix-of-sports-cars-motorcycles-and-realistic-irl-style-cars-driving-along-a-road-toward-the-horizon-the-animation-should-feel-cinematic-last-approximately-4-6-seconds-and-then-transition-smoothly-into-the-main-store",
      "title": "Build a 3D Three.js / React Three Fiber animated loading screen that plays before the main store loads. The scene must depict a New York City sunset skyline as the backdrop, with a mix of sports cars, motorcycles, and realistic IRL-style cars driving along a road toward the horizon. The animation should feel cinematic, last approximately 4–6 seconds, and then transition smoothly into the main store.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-shopify-style-storefront-for-selling-gaming-accounts-the-initial-product-category-must-be-car-parking-multiplayer-display-product-listing-cards-showing-account-details-e-g-level-rank-items-included-price-users-must-be-logged-in-via-internet-identity-to-complete-a-purchase",
      "title": "Build a Shopify-style storefront for selling gaming accounts. The initial product category must be 'Car Parking Multiplayer'. Display product listing cards showing account details (e.g., level, rank, items included, price). Users must be logged in via Internet Identity to complete a purchase.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-backend-data-model-and-admin-panel-that-allows-the-store-owner-to-add-edit-and-delete-product-categories-and-individual-product-listings-categories-should-store-a-name-and-description-products-should-store-game-name-category-title-description-account-details-price-and-availability-status",
      "title": "Implement a backend data model and admin panel that allows the store owner to add, edit, and delete product categories and individual product listings. Categories should store a name and description. Products should store game name, category, title, description, account details, price, and availability status.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-multi-step-checkout-flow-that-supports-four-payment-methods-paypal-cryptocurrency-uk-gift-cards-and-pay-in-3-installments-bnpl-each-method-should-have-its-own-dedicated-ui-step-with-relevant-input-fields-and-confirmation-screen-orders-should-be-recorded-in-the-backend-payment-gateway-connections-are-mock-ui-flows-real-api-keys-are-not-required",
      "title": "Build a multi-step checkout flow that supports four payment methods: PayPal, Cryptocurrency, UK Gift Cards, and Pay in 3 Installments (BNPL). Each method should have its own dedicated UI step with relevant input fields and confirmation screen. Orders should be recorded in the backend. Payment gateway connections are mock/UI flows — real API keys are not required.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-dark-neon-accented-visual-theme-inspired-by-gaming-culture-and-nighttime-new-york-city-aesthetics-use-deep-dark-backgrounds-near-black-vibrant-neon-accent-colors-e-g-electric-orange-neon-cyan-or-hot-pink-bold-modern-typography-and-glowing-ui-effects-this-theme-must-be-applied-consistently-across-the-loading-screen-storefront-product-pages-and-checkout",
      "title": "Apply a dark, neon-accented visual theme inspired by gaming culture and nighttime New York City aesthetics. Use deep dark backgrounds (near-black), vibrant neon accent colors (e.g., electric orange, neon cyan, or hot pink), bold modern typography, and glowing UI effects. This theme must be applied consistently across the loading screen, storefront, product pages, and checkout.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-update-all-user-facing-text-references-to-the-website-name-so-they-read-game-vault-consistently-across-every-frontend-component-and-page-this-includes-the-navigation-logo-brand-text-the-loadingscreen3d-title-or-intro-text-the-footer-brand-name-and-copyright-notice-the-html-title-tag-in-index-html-and-any-other-hardcoded-site-name-strings-found-in-the-codebase",
      "title": "Update all user-facing text references to the website name so they read 'Game Vault' consistently across every frontend component and page. This includes the Navigation logo/brand text, the LoadingScreen3D title or intro text, the Footer brand name and copyright notice, the HTML <title> tag in index.html, and any other hardcoded site-name strings found in the codebase.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-logo-image-icon-from-the-navigation-component-so-that-only-the-game-vault-text-brand-name-is-displayed-in-the-navbar-no-image-svg-or-icon-logo-should-appear-alongside-or-in-place-of-the-text",
      "title": "Remove the logo image/icon from the Navigation component so that only the 'Game Vault' text brand name is displayed in the navbar — no image, SVG, or icon logo should appear alongside or in place of the text.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-3-tone-css-linear-gradient-flowing-red-purple-orange-to-the-game-vault-site-name-text-in-every-location-it-appears-the-navigation-bar-brand-text-the-footer-brand-name-the-loadingscreen3d-intro-title-text-and-any-other-component-that-renders-the-site-name-as-visible-text-use-a-background-clip-text-technique-or-equivalent-css-to-render-the-gradient-directly-on-the-characters",
      "title": "Apply a 3-tone CSS linear gradient flowing red → purple → orange to the 'Game Vault' site name text in every location it appears: the Navigation bar brand text, the Footer brand name, the LoadingScreen3D intro/title text, and any other component that renders the site name as visible text. Use a background-clip text technique or equivalent CSS to render the gradient directly on the characters.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-on-first-login-via-internet-identity-if-the-authenticated-user-has-not-yet-created-a-username-immediately-display-a-full-screen-modal-overlay-prompting-them-to-create-a-unique-username-no-spaces-the-user-cannot-dismiss-this-modal-or-access-any-part-of-the-store-until-they-have-successfully-submitted-a-valid-username-replace-the-existing-profilesetupmodal-display-name-prompt-with-this-username-specific-prompt",
      "title": "On first login via Internet Identity, if the authenticated user has not yet created a username, immediately display a full-screen modal/overlay prompting them to create a unique username (no spaces). The user cannot dismiss this modal or access any part of the store until they have successfully submitted a valid username. Replace the existing ProfileSetupModal display name prompt with this username-specific prompt.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-panel-navigation-link-to-the-storefront-navbar-that-is-visible-to-all-users-regardless-of-authentication-or-admin-status-when-clicked-the-link-routes-to-the-admin-panel-page-non-whitelisted-users-are-shown-a-passcode-login-screen-rather-than-the-admin-panel-content-the-passcode-login-screen-must-require-the-user-to-enter-their-username-if-the-username-is-on-the-admin-whitelist-they-are-granted-access-to-the-admin-panel-otherwise-an-access-denied-message-is-shown",
      "title": "Add an 'Admin Panel' navigation link to the storefront navbar that is visible to all users regardless of authentication or admin status. When clicked, the link routes to the admin panel page. Non-whitelisted users are shown a passcode/login screen rather than the admin panel content. The passcode/login screen must require the user to enter their username; if the username is on the admin whitelist, they are granted access to the admin panel; otherwise, an access-denied message is shown.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-whitelist-management-section-to-the-admin-panel-ui-that-allows-the-store-owner-already-authenticated-admin-to-view-all-whitelisted-usernames-add-a-new-username-to-the-admin-whitelist-and-remove-an-existing-username-from-the-whitelist",
      "title": "Add a whitelist management section to the admin panel UI that allows the store owner (already-authenticated admin) to view all whitelisted usernames, add a new username to the admin whitelist, and remove an existing username from the whitelist.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-order-placement-flow-so-that-when-a-user-completes-a-purchase-the-order-record-in-the-backend-stores-the-buyer-s-username-email-address-contact-information-phone-contact-field-collected-at-checkout-and-the-product-s-purchased-update-the-checkout-pages-to-collect-email-and-contact-info-if-not-already-present-update-the-order-confirmation-page-and-the-admin-panel-order-view-to-display-username-email-contact-info-and-product-s-purchased",
      "title": "Update the order placement flow so that when a user completes a purchase, the order record in the backend stores the buyer's username, email address, contact information (phone/contact field collected at checkout), and the product(s) purchased. Update the checkout pages to collect email and contact info if not already present. Update the order confirmation page and the admin panel order view to display: username, email, contact info, and product(s) purchased.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-frontend-categoryform-component-frontend-src-components-admin-categoryform-tsx-and-its-associated-react-query-mutations-in-frontend-src-hooks-usequeries-ts-so-that-the-add-and-edit-category-flows-call-the-backend-actor-correctly-handle-both-success-and-error-responses-display-appropriate-toast-notifications-and-close-the-dialog-on-success",
      "title": "Fix the frontend `CategoryForm` component (`frontend/src/components/admin/CategoryForm.tsx`) and its associated React Query mutations in `frontend/src/hooks/useQueries.ts` so that the add and edit category flows call the backend actor correctly, handle both success and error responses, display appropriate toast notifications, and close the dialog on success.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-frontend-productform-component-frontend-src-components-admin-productform-tsx-and-its-associated-react-query-mutations-in-frontend-src-hooks-usequeries-ts-so-that-the-add-and-edit-product-flows-call-the-backend-actor-correctly-pass-all-required-fields-with-correct-types-handle-success-and-error-responses-display-appropriate-toast-notifications-and-close-the-dialog-on-success",
      "title": "Fix the frontend `ProductForm` component (`frontend/src/components/admin/ProductForm.tsx`) and its associated React Query mutations in `frontend/src/hooks/useQueries.ts` so that the add and edit product flows call the backend actor correctly, pass all required fields with correct types, handle success and error responses, display appropriate toast notifications, and close the dialog on success.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-delete-flows-in-categorymanager-and-productmanager-so-that-delete-confirmation-dialogs-correctly-invoke-the-backend-delete-functions-invalidate-the-relevant-react-query-caches-on-success-and-display-toast-feedback-ensure-no-stale-data-remains-after-deletion",
      "title": "Fix the delete flows in `CategoryManager` and `ProductManager` so that delete confirmation dialogs correctly invoke the backend delete functions, invalidate the relevant React Query caches on success, and display toast feedback. Ensure no stale data remains after deletion.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-react-query-mutations-for-addcategory-updatecategory-deletecategory-addproduct-updateproduct-and-deleteproduct-in-frontend-src-hooks-usequeries-ts-correctly-await-the-actor-calls-unwrap-the-ok-err-motoko-result-variants-and-throw-errors-when-the-backend-returns-an-err-so-that-the-mutation-s-onerror-handlers-are-triggered",
      "title": "Ensure the React Query mutations for `addCategory`, `updateCategory`, `deleteCategory`, `addProduct`, `updateProduct`, and `deleteProduct` in `frontend/src/hooks/useQueries.ts` correctly await the actor calls, unwrap the `#ok`/`#err` Motoko result variants, and throw errors when the backend returns an `#err` so that the mutation's `onError` handlers are triggered.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-all-react-query-mutation-functions-in-frontend-src-hooks-usequeries-ts-specifically-addcategory-updatecategory-deletecategory-addproduct-updateproduct-deleteproduct-placeorder-createusername-addadminusername-and-removeadminusername-so-that-they-correctly-await-actor-calls-properly-unwrap-motoko-ok-err-result-variants-throw-javascript-errors-when-the-backend-returns-err-so-onerror-handlers-fire-and-invalidate-the-correct-query-caches-on-success",
      "title": "Fix all React Query mutation functions in `frontend/src/hooks/useQueries.ts` — specifically `addCategory`, `updateCategory`, `deleteCategory`, `addProduct`, `updateProduct`, `deleteProduct`, `placeOrder`, `createUsername`, `addAdminUsername`, and `removeAdminUsername` — so that they correctly await actor calls, properly unwrap Motoko `#ok`/`#err` result variants, throw JavaScript errors when the backend returns `#err` (so `onError` handlers fire), and invalidate the correct query caches on success.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-frontend-src-components-admin-categoryform-tsx-so-that-the-add-and-edit-category-flows-correctly-invoke-the-addcategory-and-updatecategory-mutations-from-usequeries-ts-display-toast-notifications-on-success-and-error-and-close-the-dialog-on-success",
      "title": "Fix `frontend/src/components/admin/CategoryForm.tsx` so that the add and edit category flows correctly invoke the `addCategory` and `updateCategory` mutations from `useQueries.ts`, display toast notifications on success and error, and close the dialog on success.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-frontend-src-components-admin-productform-tsx-so-that-the-add-and-edit-product-flows-correctly-invoke-addproduct-and-updateproduct-mutations-pass-all-required-fields-game-name-category-title-description-account-details-price-as-float-availability-as-bool-with-correct-types-show-toast-notifications-on-success-error-and-close-the-dialog-on-success",
      "title": "Fix `frontend/src/components/admin/ProductForm.tsx` so that the add and edit product flows correctly invoke `addProduct` and `updateProduct` mutations, pass all required fields (game name, category, title, description, account details, price as Float, availability as Bool) with correct types, show toast notifications on success/error, and close the dialog on success.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-delete-flows-in-frontend-src-components-admin-categorymanager-tsx-and-frontend-src-components-admin-productmanager-tsx-so-that-delete-confirmation-dialogs-correctly-call-the-deletecategory-and-deleteproduct-mutations-invalidate-the-relevant-caches-on-success-and-display-appropriate-toast-feedback-no-stale-data-should-remain-in-the-ui-after-deletion",
      "title": "Fix the delete flows in `frontend/src/components/admin/CategoryManager.tsx` and `frontend/src/components/admin/ProductManager.tsx` so that delete confirmation dialogs correctly call the `deleteCategory` and `deleteProduct` mutations, invalidate the relevant caches on success, and display appropriate toast feedback. No stale data should remain in the UI after deletion.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-entire-frontend-typescript-codebase-compiles-without-errors-resolve-any-remaining-type-mismatches-between-the-generated-icp-actor-interface-and-the-frontend-hook-component-usage-particularly-around-motoko-variant-types-ok-err-optional-fields-text-float-and-bigint-number-conversions-for-prices-or-ids",
      "title": "Ensure the entire frontend TypeScript codebase compiles without errors. Resolve any remaining type mismatches between the generated ICP actor interface and the frontend hook/component usage, particularly around Motoko variant types (`#ok`, `#err`), optional fields (`?Text`, `?Float`), and BigInt/number conversions for prices or IDs.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-frontend-src-components-admin-adminwhitelistmanager-tsx-correctly-calls-addadminusername-and-removeadminusername-mutations-displays-the-current-whitelist-including-the-seeded-frosty-entry-and-shows-toast-feedback-on-add-remove-actions",
      "title": "Verify that `frontend/src/components/admin/AdminWhitelistManager.tsx` correctly calls `addAdminUsername` and `removeAdminUsername` mutations, displays the current whitelist (including the seeded 'Frosty' entry), and shows toast feedback on add/remove actions.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-frontend-src-app-tsx-routing-is-complete-and-correct-routes-for-storefront-product-id-product-detail-checkout-checkout-order-confirmation-order-confirmation-and-admin-admin-panel-must-all-resolve-correctly-the-3d-loading-screen-gate-must-display-before-the-storefront-and-transition-smoothly-after-4-6-seconds",
      "title": "Ensure `frontend/src/App.tsx` routing is complete and correct: routes for `/` (storefront), `/product/:id` (product detail), `/checkout` (checkout), `/order-confirmation` (order confirmation), and `/admin` (admin panel) must all resolve correctly. The 3D loading screen gate must display before the storefront and transition smoothly after 4–6 seconds.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-adminaccesscontrol-tsx-and-adminpanelpage-tsx-so-the-admin-gate-correctly-calls-isadminusername-with-the-authenticated-user-s-stored-username-fetched-via-getusername-the-username-query-not-their-principal-or-any-other-identifier-the-admin-check-must-only-fire-after-the-username-has-been-successfully-loaded-show-a-loading-state-while-the-username-is-being-fetched",
      "title": "Fix `AdminAccessControl.tsx` and `AdminPanelPage.tsx` so the admin gate correctly calls `isAdminUsername` with the authenticated user's stored username (fetched via `getUsername` / the username query), not their principal or any other identifier. The admin check must only fire after the username has been successfully loaded; show a loading state while the username is being fetched.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-addcategory-and-updatecategory-mutation-functions-in-frontend-src-hooks-usequeries-ts-so-they-correctly-await-the-actor-call-unwrap-the-ok-err-result-variant-throw-a-javascript-error-when-the-backend-returns-err-so-onerror-fires-and-invalidate-the-categories-query-cache-on-success-fix-categoryform-tsx-to-use-these-mutations-correctly-show-toast-notifications-on-success-and-error-and-close-the-dialog-on-success",
      "title": "Fix the `addCategory` and `updateCategory` mutation functions in `frontend/src/hooks/useQueries.ts` so they correctly await the actor call, unwrap the `#ok`/`#err` Result variant, throw a JavaScript `Error` when the backend returns `#err` (so `onError` fires), and invalidate the `categories` query cache on success. Fix `CategoryForm.tsx` to use these mutations correctly, show toast notifications on success and error, and close the dialog on success.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-addproduct-and-updateproduct-mutation-functions-in-frontend-src-hooks-usequeries-ts-so-they-correctly-await-the-actor-call-pass-all-required-fields-game-name-category-title-description-account-details-price-as-float-availability-as-bool-with-correct-types-unwrap-the-ok-err-result-variant-throw-a-javascript-error-on-err-and-invalidate-the-products-query-cache-on-success-fix-productform-tsx-to-use-these-mutations-correctly-show-toast-notifications-on-success-and-error-and-close-the-dialog-on-success",
      "title": "Fix the `addProduct` and `updateProduct` mutation functions in `frontend/src/hooks/useQueries.ts` so they correctly await the actor call, pass all required fields (game name, category, title, description, account details, price as `Float`, availability as `Bool`) with correct types, unwrap the `#ok`/`#err` Result variant, throw a JavaScript `Error` on `#err`, and invalidate the `products` query cache on success. Fix `ProductForm.tsx` to use these mutations correctly, show toast notifications on success and error, and close the dialog on success.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-3d-three-js-react-three-fiber-loading-screen-in-frontend-src-components-loadingscreen3d-tsx-so-it-renders-correctly-on-page-load-ensure-the-canvas-mounts-without-errors-the-scene-nyc-sunset-skyline-vehicles-driving-toward-the-horizon-animates-as-intended-the-oncomplete-callback-fires-after-4-6-seconds-and-the-transition-to-the-main-storefront-is-smooth-diagnose-and-resolve-any-issues-preventing-the-scene-from-appearing-e-g-missing-canvas-size-renderer-errors-import-failures-or-react-lifecycle-issues",
      "title": "Fix the 3D Three.js / React Three Fiber loading screen in `frontend/src/components/LoadingScreen3D.tsx` so it renders correctly on page load. Ensure the canvas mounts without errors, the scene (NYC sunset skyline, vehicles driving toward the horizon) animates as intended, the `onComplete` callback fires after 4–6 seconds, and the transition to the main storefront is smooth. Diagnose and resolve any issues preventing the scene from appearing (e.g., missing canvas size, renderer errors, import failures, or React lifecycle issues).",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-dark-neon-gaming-theme-defined-in-frontend-src-index-css-and-frontend-tailwind-config-js-is-applied-correctly-across-all-pages-storefront-product-detail-checkout-order-confirmation-admin-panel-diagnose-and-fix-any-issues-preventing-the-dark-backgrounds-neon-accent-colors-custom-fonts-orbitron-rajdhani-and-glowing-ui-effects-from-rendering-verify-that-frontend-src-app-tsx-or-the-root-layout-correctly-applies-the-theme-class-or-css-variables-so-the-theme-is-active-on-initial-load",
      "title": "Ensure the dark neon gaming theme defined in `frontend/src/index.css` and `frontend/tailwind.config.js` is applied correctly across all pages (storefront, product detail, checkout, order confirmation, admin panel). Diagnose and fix any issues preventing the dark backgrounds, neon accent colors, custom fonts (Orbitron, Rajdhani), and glowing UI effects from rendering. Verify that `frontend/src/App.tsx` or the root layout correctly applies the theme class or CSS variables so the theme is active on initial load.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-categories-filter-section-from-the-storefront-page-frontend-src-pages-storefrontpage-tsx-the-product-grid-should-display-all-available-products-without-any-category-filter-ui-tabs-sidebar-chips-or-dropdown-do-not-remove-category-management-from-the-admin-panel-categories-still-exist-in-the-backend-for-product-organisation",
      "title": "Remove the Categories filter/section from the storefront page (`frontend/src/pages/StorefrontPage.tsx`). The product grid should display all available products without any category filter UI (tabs, sidebar, chips, or dropdown). Do not remove category management from the admin panel — categories still exist in the backend for product organisation.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-existing-dark-neon-gaming-theme-in-frontend-src-index-css-with-a-full-sunset-aesthetic-define-new-css-custom-properties-using-the-nyc-sunset-palette-deep-dusk-purple-navy-black-backgrounds-e-g-1a0a2e-0d0519-1c0f3f-warm-dark-mid-tones-e-g-2d1b4e-3a1a2a-and-sunset-accent-colors-golden-yellow-f5a623-burnt-orange-e85d04-dusky-pink-rose-d63384-soft-purple-9b59b6-replace-all-neon-cyan-electric-orange-and-hot-pink-css-variables-with-these-sunset-tones-update-glow-utility-classes-e-g-neon-glow-neon-border-to-emit-warm-sunset-glows-orange-pink-golden-box-shadows-and-text-shadows-instead-of-cyan-green-neon-glows-retain-the-orbitron-and-rajdhani-google-font-imports-do-not-alter-the-game-vault-gradient-or-any-inline-style-producing-the-red-purple-orange-game-vault-text-gradient",
      "title": "Replace the existing dark neon gaming theme in `frontend/src/index.css` with a full sunset aesthetic. Define new CSS custom properties using the NYC sunset palette: deep dusk purple/navy-black backgrounds (e.g. `#1a0a2e`, `#0d0519`, `#1c0f3f`), warm dark mid-tones (e.g. `#2d1b4e`, `#3a1a2a`), and sunset accent colors — golden yellow (`#f5a623`), burnt orange (`#e85d04`), dusky pink/rose (`#d63384`), soft purple (`#9b59b6`). Replace all neon-cyan, electric-orange, and hot-pink CSS variables with these sunset tones. Update glow utility classes (e.g. `neon-glow`, `neon-border`) to emit warm sunset glows (orange/pink/golden box-shadows and text-shadows) instead of cyan/green neon glows. Retain the Orbitron and Rajdhani Google Font imports. Do NOT alter the `--game-vault-gradient` or any inline style producing the red → purple → orange 'Game Vault' text gradient.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-tailwind-config-js-to-replace-all-neon-themed-color-tokens-neon-cyan-electric-orange-hot-pink-etc-with-sunset-palette-tokens-sunset-gold-f5a623-sunset-orange-e85d04-sunset-pink-d63384-sunset-purple-9b59b6-dusk-bg-0d0519-dusk-mid-1a0a2e-update-any-existing-pulse-glow-or-custom-keyframe-animation-colors-to-use-sunset-warm-tones-ensure-css-variable-based-color-references-still-resolve-correctly-against-the-updated-index-css-tokens",
      "title": "Update `frontend/tailwind.config.js` to replace all neon-themed color tokens (neon-cyan, electric-orange, hot-pink, etc.) with sunset palette tokens: `sunset-gold` (`#f5a623`), `sunset-orange` (`#e85d04`), `sunset-pink` (`#d63384`), `sunset-purple` (`#9b59b6`), `dusk-bg` (`#0d0519`), `dusk-mid` (`#1a0a2e`). Update any existing `pulse-glow` or custom keyframe animation colors to use sunset warm tones. Ensure CSS variable-based color references still resolve correctly against the updated `index.css` tokens.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-the-sunset-theme-consistently-across-all-frontend-page-and-layout-components-storefrontpage-tsx-productdetailpage-tsx-checkoutpage-tsx-orderconfirmationpage-tsx-adminpanelpage-tsx-navigation-tsx-footer-tsx-productcard-tsx-cartdrawer-tsx-categorycard-tsx-all-checkout-sub-components-paypalpayment-tsx-cryptopayment-tsx-giftcardpayment-tsx-payin3payment-tsx-paymentmethodselector-tsx-and-all-admin-sub-components-categorymanager-tsx-productmanager-tsx-ordermanager-tsx-adminwhitelistmanager-tsx-categoryform-tsx-productform-tsx-replace-all-hardcoded-neon-color-classes-e-g-text-cyan-400-border-cyan-500-bg-gray-900-shadow-cyan-neon-specific-utility-classes-with-their-sunset-palette-equivalents-buttons-cards-borders-hover-states-badges-and-focus-rings-must-all-use-sunset-accent-colors-the-game-vault-gradient-text-must-remain-unchanged-wherever-it-appears",
      "title": "Apply the sunset theme consistently across all frontend page and layout components: `StorefrontPage.tsx`, `ProductDetailPage.tsx`, `CheckoutPage.tsx`, `OrderConfirmationPage.tsx`, `AdminPanelPage.tsx`, `Navigation.tsx`, `Footer.tsx`, `ProductCard.tsx`, `CartDrawer.tsx`, `CategoryCard.tsx`, all checkout sub-components (`PayPalPayment.tsx`, `CryptoPayment.tsx`, `GiftCardPayment.tsx`, `PayIn3Payment.tsx`, `PaymentMethodSelector.tsx`), and all admin sub-components (`CategoryManager.tsx`, `ProductManager.tsx`, `OrderManager.tsx`, `AdminWhitelistManager.tsx`, `CategoryForm.tsx`, `ProductForm.tsx`). Replace all hardcoded neon color classes (e.g. `text-cyan-400`, `border-cyan-500`, `bg-gray-900`, `shadow-cyan`, neon-specific utility classes) with their sunset palette equivalents. Buttons, cards, borders, hover states, badges, and focus rings must all use sunset accent colors. The 'Game Vault' gradient text must remain unchanged wherever it appears.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-components-loadingscreen3d-tsx-to-enforce-a-minimum-40-second-wait-before-users-can-proceed-to-the-storefront-the-oncomplete-callback-must-not-fire-and-the-enter-store-button-must-not-appear-or-be-enabled-until-the-full-40-seconds-have-elapsed-regardless-of-how-quickly-the-scene-loads",
      "title": "Update `frontend/src/components/LoadingScreen3D.tsx` to enforce a minimum 40-second wait before users can proceed to the storefront. The `onComplete` callback must not fire and the 'Enter Store' button must not appear or be enabled until the full 40 seconds have elapsed, regardless of how quickly the scene loads.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-3d-nyc-sunset-scene-in-frontend-src-components-loadingscreen3d-tsx-to-loop-continuously-for-the-entire-40-second-wait-period-the-animation-cars-motorcycles-and-sports-cars-driving-toward-the-horizon-against-the-nyc-sunset-skyline-must-never-stop-pause-or-show-an-idle-state-it-must-cycle-on-repeat-until-the-user-enters-the-store",
      "title": "Update the 3D NYC sunset scene in `frontend/src/components/LoadingScreen3D.tsx` to loop continuously for the entire 40-second wait period. The animation (cars, motorcycles, and sports cars driving toward the horizon against the NYC sunset skyline) must never stop, pause, or show an idle state — it must cycle on repeat until the user enters the store.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-any-existing-loading-progress-indicator-in-frontend-src-components-loadingscreen3d-tsx-with-a-progress-fill-reveal-effect-applied-directly-to-the-game-vault-gradient-text-red-purple-orange-as-the-40-second-timer-counts-down-the-gradient-text-progressively-fills-in-or-reveals-from-left-to-right-or-using-a-sweeping-mask-clip-technique-reaching-fully-revealed-at-40-seconds-do-not-display-a-separate-progress-bar-widget-the-game-vault-text-itself-is-the-indicator-the-gradient-red-purple-orange-on-the-text-must-remain-unchanged",
      "title": "Replace any existing loading progress indicator in `frontend/src/components/LoadingScreen3D.tsx` with a progress fill/reveal effect applied directly to the 'Game Vault' gradient text (red → purple → orange). As the 40-second timer counts down, the gradient text progressively fills in or reveals from left to right (or using a sweeping mask/clip technique), reaching fully revealed at 40 seconds. Do not display a separate progress bar widget; the 'Game Vault' text itself is the indicator. The gradient (red → purple → orange) on the text must remain unchanged.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-rewrite-frontend-src-components-adminaccesscontrol-tsx-so-that-the-admin-gate-resolves-correctly-and-promptly-the-component-must-1-first-check-if-the-user-is-authenticated-via-internet-identity-2-fetch-the-stored-username-via-the-getusername-username-query-3-only-call-isadminusername-after-the-username-string-has-been-successfully-loaded-never-pass-a-principal-undefined-or-null-4-transition-to-either-access-granted-or-access-denied-state-as-soon-as-both-the-username-query-and-the-isadminusername-check-return-without-looping-or-re-fetching-indefinitely-5-show-a-brief-loading-spinner-only-while-either-the-username-fetch-or-the-admin-check-is-in-flight-6-if-the-user-is-not-authenticated-prompt-login-instead-of-spinning-7-if-the-user-has-no-username-yet-redirect-to-the-username-creation-flow-instead-of-spinning",
      "title": "Rewrite `frontend/src/components/AdminAccessControl.tsx` so that the admin gate resolves correctly and promptly. The component must: (1) first check if the user is authenticated via Internet Identity; (2) fetch the stored username via the `getUsername` / username query; (3) only call `isAdminUsername` after the username string has been successfully loaded — never pass a principal, undefined, or null; (4) transition to either 'access granted' or 'access denied' state as soon as both the username query and the `isAdminUsername` check return, without looping or re-fetching indefinitely; (5) show a brief loading spinner only while either the username fetch or the admin check is in-flight; (6) if the user is not authenticated, prompt login instead of spinning; (7) if the user has no username yet, redirect to the username creation flow instead of spinning.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-frontend-src-hooks-usequeries-ts-to-ensure-the-useusername-getusername-query-and-the-useisadminusername-query-or-equivalent-hooks-used-by-adminaccesscontrol-are-configured-with-appropriate-staletime-and-retry-settings-so-they-resolve-quickly-and-do-not-block-the-admin-gate-with-excessive-re-fetches-or-retry-delays-the-username-query-must-be-enabled-whenever-the-user-is-authenticated-and-the-admin-check-query-must-be-enabled-only-after-a-valid-username-string-is-available",
      "title": "Audit `frontend/src/hooks/useQueries.ts` to ensure the `useUsername` / `getUsername` query and the `useIsAdminUsername` query (or equivalent hooks used by `AdminAccessControl`) are configured with appropriate `staleTime` and `retry` settings so they resolve quickly and do not block the admin gate with excessive re-fetches or retry delays. The username query must be enabled whenever the user is authenticated, and the admin check query must be enabled only after a valid username string is available.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-frontend-src-components-admin-categoryform-tsx-so-that-the-add-category-and-edit-category-form-submissions-correctly-invoke-the-addcategory-or-updatecategory-mutations-from-usequeries-ts-display-a-success-toast-notification-and-close-the-dialog-on-success-and-display-an-error-toast-notification-with-the-error-message-on-failure-the-form-must-not-close-on-error",
      "title": "Fix `frontend/src/components/admin/CategoryForm.tsx` so that the 'Add Category' and 'Edit Category' form submissions correctly invoke the `addCategory` or `updateCategory` mutations from `useQueries.ts`, display a success toast notification and close the dialog on success, and display an error toast notification (with the error message) on failure. The form must not close on error.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-delete-flow-in-frontend-src-components-admin-categorymanager-tsx-so-that-the-delete-confirmation-dialog-correctly-calls-the-deletecategory-mutation-invalidates-the-categories-react-query-cache-on-success-and-displays-a-success-or-error-toast-no-stale-category-data-should-remain-in-the-ui-after-deletion",
      "title": "Fix the delete flow in `frontend/src/components/admin/CategoryManager.tsx` so that the delete confirmation dialog correctly calls the `deleteCategory` mutation, invalidates the `categories` React Query cache on success, and displays a success or error toast. No stale category data should remain in the UI after deletion.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-rewrite-frontend-src-components-adminaccesscontrol-tsx-with-a-strict-sequential-gate-1-check-if-the-user-is-authenticated-via-internet-identity-2-fetch-the-stored-username-via-the-useusername-getusername-react-query-hook-3-only-call-isadminusername-after-a-non-empty-username-string-has-been-successfully-loaded-never-pass-a-principal-undefined-or-null-4-transition-to-access-granted-render-children-or-access-denied-render-accessdeniedscreen-as-soon-as-both-the-username-query-and-the-isadminusername-check-have-returned-without-looping-or-re-fetching-indefinitely-5-show-a-brief-loading-spinner-only-while-either-the-username-fetch-or-the-admin-check-is-in-flight-6-if-the-user-is-not-authenticated-render-a-please-log-in-prompt-instead-of-spinning-7-if-the-user-is-authenticated-but-has-no-username-yet-redirect-to-the-username-creation-flow-i-e-trigger-the-profilesetupmodal-instead-of-spinning",
      "title": "Rewrite `frontend/src/components/AdminAccessControl.tsx` with a strict, sequential gate: (1) check if the user is authenticated via Internet Identity; (2) fetch the stored username via the `useUsername` / `getUsername` React Query hook; (3) only call `isAdminUsername` after a non-empty username string has been successfully loaded — never pass a principal, undefined, or null; (4) transition to 'access granted' (render children) or 'access denied' (render `AccessDeniedScreen`) as soon as both the username query and the `isAdminUsername` check have returned, without looping or re-fetching indefinitely; (5) show a brief loading spinner only while either the username fetch or the admin check is in-flight; (6) if the user is not authenticated, render a 'Please log in' prompt instead of spinning; (7) if the user is authenticated but has no username yet, redirect to the username creation flow (i.e. trigger the `ProfileSetupModal`) instead of spinning.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-and-fix-frontend-src-hooks-usequeries-ts-for-the-useusername-getusername-query-and-the-useisadminusername-query-or-equivalent-hooks-consumed-by-adminaccesscontrol-set-staletime-to-at-least-60-000-ms-and-retry-to-1-on-both-queries-so-they-resolve-quickly-without-excessive-re-fetch-loops-ensure-the-username-query-is-enabled-whenever-isauthenticated-is-true-ensure-the-isadminusername-query-is-enabled-only-after-a-valid-non-empty-username-string-is-available-ensure-isadminusername-is-called-with-the-username-string-value-not-a-principal-or-any-other-identifier",
      "title": "Audit and fix `frontend/src/hooks/useQueries.ts` for the `useUsername` / `getUsername` query and the `useIsAdminUsername` query (or equivalent hooks consumed by `AdminAccessControl`): set `staleTime` to at least 60 000 ms and `retry` to 1 on both queries so they resolve quickly without excessive re-fetch loops; ensure the username query is `enabled` whenever `isAuthenticated` is true; ensure the `isAdminUsername` query is `enabled` only after a valid, non-empty username string is available; ensure `isAdminUsername` is called with the username string value, not a principal or any other identifier.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-categories-tab-and-all-category-management-ui-from-frontend-src-pages-adminpanelpage-tsx-the-tab-trigger-for-categories-must-be-deleted-along-with-its-corresponding-tabscontent-panel-the-remaining-tabs-products-orders-whitelist-must-continue-to-function-correctly-and-the-default-active-tab-should-be-set-to-products-or-the-first-remaining-tab",
      "title": "Remove the Categories tab and all category management UI from `frontend/src/pages/AdminPanelPage.tsx`. The tab trigger for 'Categories' must be deleted along with its corresponding `TabsContent` panel. The remaining tabs (Products, Orders, Whitelist) must continue to function correctly and the default active tab should be set to 'Products' or the first remaining tab.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-categorymanager-component-file-frontend-src-components-admin-categorymanager-tsx-and-the-categoryform-component-file-frontend-src-components-admin-categoryform-tsx-from-the-frontend-codebase-entirely-as-they-are-no-longer-referenced",
      "title": "Remove the `CategoryManager` component file (`frontend/src/components/admin/CategoryManager.tsx`) and the `CategoryForm` component file (`frontend/src/components/admin/CategoryForm.tsx`) from the frontend codebase entirely, as they are no longer referenced.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-all-category-related-react-query-mutations-and-queries-from-frontend-src-hooks-usequeries-ts-that-are-solely-used-by-the-removed-admin-category-ui-specifically-useaddcategory-useupdatecategory-usedeletecategory-and-usecategories-if-it-is-only-consumed-by-the-admin-panel-category-manager-do-not-remove-any-query-or-mutation-still-referenced-by-other-components-e-g-productform-may-still-need-the-categories-list-for-its-category-dropdown-field",
      "title": "Remove all category-related React Query mutations and queries from `frontend/src/hooks/useQueries.ts` that are solely used by the removed admin category UI — specifically `useAddCategory`, `useUpdateCategory`, `useDeleteCategory`, and `useCategories` (if it is only consumed by the admin panel category manager). Do not remove any query or mutation still referenced by other components (e.g. ProductForm may still need the categories list for its category dropdown field).",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-category-field-dropdown-select-input-from-frontend-src-components-admin-productform-tsx-delete-all-category-related-form-state-e-g-category-state-variable-validation-rules-referencing-category-and-any-category-dropdown-rendering-logic-from-the-component-the-form-must-still-correctly-handle-all-remaining-product-fields-game-name-title-description-account-details-price-and-availability",
      "title": "Remove the category field (dropdown/select input) from `frontend/src/components/admin/ProductForm.tsx`. Delete all category-related form state (e.g. `category` state variable), validation rules referencing category, and any category dropdown rendering logic from the component. The form must still correctly handle all remaining product fields: game name, title, description, account details, price, and availability.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-addproduct-and-updateproduct-mutation-functions-in-frontend-src-hooks-usequeries-ts-to-no-longer-pass-a-category-field-in-the-product-payload-sent-to-the-backend-actor-remove-category-from-the-mutation-input-type-or-argument-object-for-both-mutations-ensure-the-mutations-still-correctly-pass-all-other-required-product-fields-game-name-title-description-account-details-price-as-float-availability-as-bool-await-the-actor-call-unwrap-the-ok-err-result-variant-throw-a-javascript-error-on-err-and-invalidate-the-products-query-cache-on-success",
      "title": "Update the `addProduct` and `updateProduct` mutation functions in `frontend/src/hooks/useQueries.ts` to no longer pass a `category` field in the product payload sent to the backend actor. Remove `category` from the mutation input type or argument object for both mutations. Ensure the mutations still correctly pass all other required product fields (game name, title, description, account details, price as Float, availability as Bool), await the actor call, unwrap the `#ok`/`#err` Result variant, throw a JavaScript Error on `#err`, and invalidate the `products` query cache on success.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-rewrite-frontend-src-components-loadingscreen3d-tsx-to-replace-the-existing-three-js-react-three-fiber-3d-scene-entirely-with-a-full-screen-html5-video-element-sourcing-a-royalty-free-new-york-city-sunset-video-from-a-public-cdn-e-g-pexels-https-www-pexels-com-video-time-lapse-video-of-new-york-city-during-sunset-3843644-or-equivalent-pixabay-pexels-direct-mp4-url-the-video-must-autoplay-loop-be-muted-and-cover-the-full-viewport-object-fit-cover-remove-all-three-js-react-three-fiber-and-vehicle-model-imports-from-this-component-remove-the-frontend-src-models-vehicle-tsx-import-if-it-is-only-used-by-this-component",
      "title": "Rewrite `frontend/src/components/LoadingScreen3D.tsx` to replace the existing Three.js / React Three Fiber 3D scene entirely with a full-screen HTML5 `<video>` element sourcing a royalty-free New York City sunset video from a public CDN (e.g. Pexels: https://www.pexels.com/video/time-lapse-video-of-new-york-city-during-sunset-3843644/ or equivalent Pixabay/Pexels direct MP4 URL). The video must autoplay, loop, be muted, and cover the full viewport (`object-fit: cover`). Remove all Three.js, React Three Fiber, and vehicle model imports from this component. Remove the `frontend/src/models/Vehicle.tsx` import if it is only used by this component.",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-preserve-all-existing-loading-screen-overlay-behaviour-in-the-rewritten-loadingscreen3d-tsx-1-a-minimum-40-second-wait-before-the-enter-store-button-appears-or-the-oncomplete-callback-fires-2-the-game-vault-gradient-text-red-purple-orange-progress-fill-reveal-effect-that-progressively-reveals-the-text-from-left-to-right-over-the-40-second-countdown-3-the-enter-store-button-that-only-becomes-visible-and-clickable-after-the-full-40-seconds-have-elapsed-these-behaviours-must-work-on-top-of-the-new-video-background",
      "title": "Preserve all existing loading screen overlay behaviour in the rewritten `LoadingScreen3D.tsx`: (1) a minimum 40-second wait before the 'Enter Store' button appears or the `onComplete` callback fires; (2) the 'Game Vault' gradient text (red → purple → orange) progress fill/reveal effect that progressively reveals the text from left to right over the 40-second countdown; (3) the 'Enter Store' button that only becomes visible and clickable after the full 40 seconds have elapsed. These behaviours must work on top of the new video background.",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-frontend-src-hooks-usequeries-ts-for-the-subscription-tier-backend-functions-usesubscriptiontiers-query-that-calls-getsubscriptiontiers-useupdatesubscriptiontierprices-mutation-that-calls-updatesubscriptiontierprices-and-usesetsubscriptiontierfreetrial-mutation-that-calls-setsubscriptiontierfreetrial-all-mutations-must-await-the-actor-call-unwrap-the-ok-err-result-variant-throw-a-javascript-error-on-err-and-invalidate-the-subscriptiontiers-query-cache-on-success",
      "title": "Add React Query hooks to `frontend/src/hooks/useQueries.ts` for the subscription tier backend functions: `useSubscriptionTiers()` query that calls `getSubscriptionTiers`, `useUpdateSubscriptionTierPrices()` mutation that calls `updateSubscriptionTierPrices`, and `useSetSubscriptionTierFreeTrial()` mutation that calls `setSubscriptionTierFreeTrial`. All mutations must await the actor call, unwrap the `#ok`/`#err` Result variant, throw a JavaScript `Error` on `#err`, and invalidate the `subscriptionTiers` query cache on success.",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-page-frontend-src-pages-subscriptionspage-tsx-the-page-must-display-a-monthly-yearly-billing-toggle-at-the-top-beneath-the-toggle-display-the-disclaimer-text-if-you-select-monthly-you-will-need-to-pay-monthly-each-time-this-text-must-appear-under-all-subscription-tier-title-cards-render-four-subscription-tier-cards-starter-basic-premium-pro-fetched-live-from-the-backend-via-usesubscriptiontiers-each-card-must-show-the-tier-name-the-monthly-or-yearly-price-switching-based-on-the-toggle-the-tier-s-perks-list-a-7-day-free-trial-badge-if-freetrialenabled-is-true-for-that-tier-and-a-subscribe-button-apply-the-sunset-theme-consistently-sunset-gold-sunset-orange-sunset-pink-accent-colours-dusk-bg-dusk-mid-backgrounds-orbitron-rajdhani-fonts-sunset-glow-effects-the-pro-tier-card-should-be-visually-distinguished-as-the-top-tier-option",
      "title": "Create a new page `frontend/src/pages/SubscriptionsPage.tsx`. The page must display a monthly/yearly billing toggle at the top. Beneath the toggle, display the disclaimer text: 'If you select monthly you will need to pay monthly each time' — this text must appear under ALL subscription tier title cards. Render four subscription tier cards (Starter, Basic, Premium, Pro) fetched live from the backend via `useSubscriptionTiers`. Each card must show: the tier name, the monthly or yearly price (switching based on the toggle), the tier's perks list, a '7-day free trial' badge if `freeTrialEnabled` is true for that tier, and a 'Subscribe' button. Apply the sunset theme consistently (sunset-gold, sunset-orange, sunset-pink accent colours, dusk-bg/dusk-mid backgrounds, Orbitron/Rajdhani fonts, sunset glow effects). The Pro tier card should be visually distinguished as the top-tier option.",
      "reqIds": [
        "REQ-64"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-subscription-checkout-flow-when-a-user-clicks-subscribe-on-a-tier-card-in-subscriptionspage-tsx-open-a-checkout-modal-or-route-to-a-dedicated-subscription-checkout-page-the-checkout-must-support-only-two-payment-methods-paypal-and-crypto-reuse-the-existing-paypalpayment-tsx-and-cryptopayment-tsx-ui-components-where-possible-if-the-selected-tier-has-freetrialenabled-true-display-a-message-confirming-the-7-day-free-trial-before-billing-begins-the-checkout-is-a-mock-ui-flow-no-real-recurring-billing-api-is-required-on-completion-display-a-confirmation-screen-showing-the-selected-tier-billing-cycle-monthly-yearly-price-paid-and-payment-method-apply-the-sunset-theme-throughout",
      "title": "Create a subscription checkout flow. When a user clicks 'Subscribe' on a tier card in `SubscriptionsPage.tsx`, open a checkout modal or route to a dedicated subscription checkout page. The checkout must support only two payment methods: PayPal and Crypto. Reuse the existing `PayPalPayment.tsx` and `CryptoPayment.tsx` UI components where possible. If the selected tier has `freeTrialEnabled: true`, display a message confirming the 7-day free trial before billing begins. The checkout is a mock/UI flow — no real recurring billing API is required. On completion, display a confirmation screen showing the selected tier, billing cycle (monthly/yearly), price paid, and payment method. Apply the sunset theme throughout.",
      "reqIds": [
        "REQ-65"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-subscriptions-navigation-link-to-the-main-navbar-in-frontend-src-components-navigation-tsx-the-link-must-be-visible-to-all-users-authenticated-or-not-and-navigate-to-the-subscriptions-page-route-add-the-corresponding-route-in-frontend-src-app-tsx-so-that-navigating-to-subscriptions-renders-subscriptionspage-tsx",
      "title": "Add a 'Subscriptions' navigation link to the main navbar in `frontend/src/components/Navigation.tsx`. The link must be visible to all users (authenticated or not) and navigate to the subscriptions page/route. Add the corresponding route in `frontend/src/App.tsx` so that navigating to `/subscriptions` renders `SubscriptionsPage.tsx`.",
      "reqIds": [
        "REQ-66"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-subscription-management-section-to-the-admin-panel-in-frontend-src-pages-adminpanelpage-tsx-add-a-new-tab-labelled-subscriptions-alongside-the-existing-products-orders-and-admins-tabs-the-tab-content-must-render-a-subscriptionmanager-component-that-displays-all-four-tiers-in-a-table-or-card-list-for-each-tier-admins-must-be-able-to-1-edit-the-monthly-price-and-yearly-price-independently-via-inline-inputs-or-an-edit-dialog-2-toggle-the-7-day-free-trial-on-off-via-a-toggle-switch-all-changes-must-call-the-corresponding-mutations-useupdatesubscriptiontierprices-usesetsubscriptiontierfreetrial-display-success-error-toast-notifications-and-immediately-reflect-on-the-user-facing-subscriptions-tab-via-cache-invalidation",
      "title": "Add a Subscription Management section to the admin panel in `frontend/src/pages/AdminPanelPage.tsx`. Add a new tab labelled 'Subscriptions' alongside the existing Products, Orders, and Admins tabs. The tab content must render a `SubscriptionManager` component that displays all four tiers in a table or card list. For each tier, admins must be able to: (1) edit the monthly price and yearly price independently via inline inputs or an edit dialog; (2) toggle the 7-day free trial on/off via a toggle switch. All changes must call the corresponding mutations (`useUpdateSubscriptionTierPrices`, `useSetSubscriptionTierFreeTrial`), display success/error toast notifications, and immediately reflect on the user-facing subscriptions tab via cache invalidation.",
      "reqIds": [
        "REQ-67"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-frontend-src-hooks-usequeries-ts-for-the-store-settings-backend-functions-usestoresettings-query-that-calls-getstoresettings-with-staletime-of-60-000-ms-and-retry-1-useupdatepaypalwalletaddress-mutation-useupdatebitcoinwalletaddress-mutation-and-useupdateethereumwalletaddress-mutation-all-mutations-must-await-the-actor-call-unwrap-the-ok-err-result-variant-throw-a-javascript-error-on-err-and-invalidate-the-storesettings-query-cache-on-success",
      "title": "Add React Query hooks to `frontend/src/hooks/useQueries.ts` for the store settings backend functions: `useStoreSettings()` query that calls `getStoreSettings` (with `staleTime` of 60 000 ms and `retry` 1), `useUpdatePaypalWalletAddress()` mutation, `useUpdateBitcoinWalletAddress()` mutation, and `useUpdateEthereumWalletAddress()` mutation. All mutations must await the actor call, unwrap the `#ok`/`#err` Result variant, throw a JavaScript `Error` on `#err`, and invalidate the `storeSettings` query cache on success.",
      "reqIds": [
        "REQ-69"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-admin-component-frontend-src-components-admin-storesettingsmanager-tsx-this-component-must-1-display-three-labelled-text-input-fields-paypal-wallet-address-bitcoin-wallet-address-and-ethereum-wallet-address-pre-populated-with-values-fetched-via-usestoresettings-2-provide-a-save-button-per-field-or-a-single-save-all-button-that-calls-the-corresponding-mutation-3-display-a-success-toast-on-save-and-an-error-toast-on-failure-4-apply-the-sunset-theme-dusk-bg-dusk-mid-backgrounds-sunset-gold-sunset-orange-accent-colours-orbitron-rajdhani-fonts",
      "title": "Create a new admin component `frontend/src/components/admin/StoreSettingsManager.tsx`. This component must: (1) display three labelled text input fields — 'PayPal Wallet Address', 'Bitcoin Wallet Address', and 'Ethereum Wallet Address' — pre-populated with values fetched via `useStoreSettings()`; (2) provide a 'Save' button per field (or a single 'Save All' button) that calls the corresponding mutation; (3) display a success toast on save and an error toast on failure; (4) apply the sunset theme (dusk-bg/dusk-mid backgrounds, sunset-gold/sunset-orange accent colours, Orbitron/Rajdhani fonts).",
      "reqIds": [
        "REQ-70"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-settings-tab-to-the-admin-panel-in-frontend-src-pages-adminpanelpage-tsx-alongside-the-existing-products-orders-admins-and-subscriptions-tabs-the-tab-content-must-render-the-storesettingsmanager-component",
      "title": "Add a 'Settings' tab to the admin panel in `frontend/src/pages/AdminPanelPage.tsx` alongside the existing Products, Orders, Admins, and Subscriptions tabs. The tab content must render the `StoreSettingsManager` component.",
      "reqIds": [
        "REQ-71"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-components-checkout-cryptopayment-tsx-to-fetch-the-bitcoin-and-ethereum-wallet-addresses-from-the-backend-via-usestoresettings-and-display-them-to-the-customer-during-the-crypto-checkout-step-for-each-coin-btc-and-eth-display-1-a-qr-code-image-generated-from-the-wallet-address-using-an-inline-svg-or-a-qr-code-library-rendering-the-address-as-a-data-uri-if-no-library-is-available-display-the-address-prominently-in-a-styled-box-as-the-fallback-2-the-wallet-address-as-selectable-copyable-text-with-a-copy-button-that-copies-the-address-to-the-clipboard-and-shows-a-brief-copied-confirmation-if-a-wallet-address-is-empty-not-yet-set-by-admin-display-a-not-configured-message-for-that-coin-rather-than-an-empty-qr-code",
      "title": "Update `frontend/src/components/checkout/CryptoPayment.tsx` to fetch the Bitcoin and Ethereum wallet addresses from the backend via `useStoreSettings()` and display them to the customer during the crypto checkout step. For each coin (BTC and ETH), display: (1) a QR code image generated from the wallet address using an inline SVG or a QR code library rendering the address as a data URI — if no library is available, display the address prominently in a styled box as the fallback; (2) the wallet address as selectable/copyable text with a 'Copy' button that copies the address to the clipboard and shows a brief 'Copied!' confirmation. If a wallet address is empty (not yet set by admin), display a 'Not configured' message for that coin rather than an empty QR code.",
      "reqIds": [
        "REQ-72"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-frontend-src-hooks-usequeries-ts-for-the-new-order-approval-backend-functions-useapproveorder-mutation-calling-approveorder-usedeclineorder-mutation-calling-declineorder-and-useordersbybuyer-query-calling-getordersbybuyer-with-the-authenticated-user-s-principal-all-mutations-must-await-the-actor-call-unwrap-the-ok-err-result-variant-throw-a-javascript-error-on-err-and-invalidate-the-orders-query-cache-on-success-the-useordersbybuyer-query-must-be-enabled-only-when-the-user-is-authenticated",
      "title": "Add React Query hooks to `frontend/src/hooks/useQueries.ts` for the new order approval backend functions: `useApproveOrder()` mutation calling `approveOrder`, `useDeclineOrder()` mutation calling `declineOrder`, and `useOrdersByBuyer()` query calling `getOrdersByBuyer` with the authenticated user's principal. All mutations must await the actor call, unwrap the `#ok`/`#err` Result variant, throw a JavaScript `Error` on `#err`, and invalidate the `orders` query cache on success. The `useOrdersByBuyer` query must be enabled only when the user is authenticated.",
      "reqIds": [
        "REQ-76"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-src-components-checkout-giftcardpayment-tsx-to-capture-two-additional-fields-during-the-gift-card-checkout-step-a-gift-card-number-text-input-and-a-gift-card-balance-text-input-or-select-these-values-must-be-passed-through-to-the-order-placement-call-so-they-are-stored-on-the-order-record-in-the-backend-both-fields-are-required-before-the-user-can-confirm-the-order",
      "title": "Update `frontend/src/components/checkout/GiftCardPayment.tsx` to capture two additional fields during the gift card checkout step: a 'Gift Card Number' text input and a 'Gift Card Balance' text input (or select). These values must be passed through to the order placement call so they are stored on the order record in the backend. Both fields are required before the user can confirm the order.",
      "reqIds": [
        "REQ-77"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-placeorder-mutation-in-frontend-src-hooks-usequeries-ts-and-the-order-placement-logic-in-frontend-src-pages-checkoutpage-tsx-to-pass-giftcardnumber-and-giftcardbalance-fields-when-the-selected-payment-method-is-gift-card-for-all-other-payment-methods-these-fields-must-be-sent-as-empty-strings-to-match-the-updated-backend-order-type",
      "title": "Update the `placeOrder` mutation in `frontend/src/hooks/useQueries.ts` and the order placement logic in `frontend/src/pages/CheckoutPage.tsx` to pass `giftCardNumber` and `giftCardBalance` fields when the selected payment method is 'Gift Card'. For all other payment methods, these fields must be sent as empty strings to match the updated backend Order type.",
      "reqIds": [
        "REQ-78"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-admin-component-frontend-src-components-admin-paymentsmanager-tsx-this-component-must-1-fetch-all-orders-via-the-existing-orders-query-2-display-each-order-in-a-table-or-card-list-showing-buyer-username-email-contact-info-product-s-purchased-payment-method-badge-approval-status-badge-pending-amber-approved-green-declined-red-and-for-gift-card-orders-the-gift-card-number-and-balance-3-provide-approve-and-decline-buttons-per-order-that-call-the-useapproveorder-and-usedeclineorder-mutations-respectively-4-show-a-success-or-error-toast-on-each-action-5-apply-the-sunset-theme-consistently-dusk-bg-dusk-mid-backgrounds-sunset-gold-sunset-orange-sunset-pink-accent-colours-orbitron-rajdhani-fonts",
      "title": "Create a new admin component `frontend/src/components/admin/PaymentsManager.tsx`. This component must: (1) fetch all orders via the existing orders query; (2) display each order in a table or card list showing: buyer username, email, contact info, product(s) purchased, payment method badge, approval status badge (`#pending` = amber, `#approved` = green, `#declined` = red), and — for gift card orders — the gift card number and balance; (3) provide 'Approve' and 'Decline' buttons per order that call the `useApproveOrder` and `useDeclineOrder` mutations respectively; (4) show a success or error toast on each action; (5) apply the sunset theme consistently (dusk-bg/dusk-mid backgrounds, sunset-gold/sunset-orange/sunset-pink accent colours, Orbitron/Rajdhani fonts).",
      "reqIds": [
        "REQ-79"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-payments-tab-to-the-admin-panel-in-frontend-src-pages-adminpanelpage-tsx-alongside-the-existing-products-orders-admins-subscriptions-and-settings-tabs-the-tab-content-must-render-the-paymentsmanager-component-the-tab-must-be-labelled-payments-and-must-not-disrupt-the-existing-tab-order-or-default-active-tab",
      "title": "Add a new 'Payments' tab to the admin panel in `frontend/src/pages/AdminPanelPage.tsx`, alongside the existing Products, Orders, Admins, Subscriptions, and Settings tabs. The tab content must render the `PaymentsManager` component. The tab must be labelled 'Payments' and must not disrupt the existing tab order or default active tab.",
      "reqIds": [
        "REQ-80"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-order-status-notification-to-frontend-src-pages-orderconfirmationpage-tsx-that-displays-the-current-approvalstatus-of-the-order-pending-approved-declined-fetched-live-from-the-backend-the-status-must-update-reactively-if-an-admin-approves-or-declines-the-order-after-the-page-is-loaded-the-buyer-should-see-the-updated-status-on-refresh-or-via-polling-react-query-refetch-interval-of-30-seconds-is-acceptable-display-the-status-with-a-clear-label-and-colour-coded-indicator-amber-for-pending-green-for-approved-red-for-declined",
      "title": "Add an in-app order status notification to `frontend/src/pages/OrderConfirmationPage.tsx` that displays the current `approvalStatus` of the order (Pending / Approved / Declined) fetched live from the backend. The status must update reactively — if an admin approves or declines the order after the page is loaded, the buyer should see the updated status on refresh or via polling (React Query refetch interval of 30 seconds is acceptable). Display the status with a clear label and colour-coded indicator: amber for pending, green for approved, red for declined.",
      "reqIds": [
        "REQ-81"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "3D Three.js loading screen with cars/motorcycles driving into a New York sunset",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Gaming accounts store with Car Parking Multiplayer as initial category",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Admin panel for adding/managing product categories and listings",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "User authentication via Internet Identity (login required to purchase)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "PayPal checkout flow integration",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Crypto payment checkout flow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "UK Gift Cards payment checkout flow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Pay in 3 installments (BNPL) checkout flow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Remove storefront logo and apply red → purple → orange 3-tone gradient to 'Game Vault' text in navbar, footer, loading screen, and all instances",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Username system on first login (no spaces), enforced for all users, replaces previous ID concept; used for purchases and admin panel access",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Order confirmations and admin panel order views show username, email, contact info, and product(s) purchased",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Admin Panel navbar link visible to all users; only whitelisted usernames can pass the passcode/login screen; store owner manages whitelist in backend",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a 'username' field to the backend user profile data model (replacing any previous ID field). The username must be unique across all users, contain no spaces, and be stored alongside the user's Internet Identity principal. Expose backend functions to: create a username (enforced unique, no spaces), get a username by principal, check if a principal has a username, and manage an admin whitelist (add username, remove username, check if username is admin).",
      "reqIds": [
        "REQ-9"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Hardcode 'Frosty' as a seed entry in the backend admin whitelist so they have immediate admin access",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "In the backend (backend/main.mo), hardcode the username 'Frosty' as an initial seed entry in the admin whitelist so that it is present from the first deployment without requiring any manual addition through the whitelist management UI.",
      "reqIds": [
        "REQ-14"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Audit and fix the backend Motoko `addCategory` function in `backend/main.mo` so that it correctly accepts category name and description, persists the new category to stable storage, and returns a success result without errors. Ensure `updateCategory` and `deleteCategory` functions are similarly correct and stable.",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Audit and fix the backend Motoko `addProduct` function in `backend/main.mo` so that it correctly accepts all product fields (game name, category, title, description, account details, price, availability), persists the new product, and returns a success result without errors. Ensure `updateProduct` and `deleteProduct` are similarly correct and stable.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Audit and fix the backend Motoko actor in `backend/main.mo` to ensure all stable variable declarations, CRUD functions for categories, products, orders, user profiles, and admin whitelist compile without errors and persist state correctly across upgrades. The `addCategory`, `updateCategory`, `deleteCategory`, `addProduct`, `updateProduct`, `deleteProduct`, `placeOrder`, `createUsername`, `getUsername`, `hasUsername`, `addAdminUsername`, `removeAdminUsername`, and `isAdminUsername` functions must all compile cleanly and return `#ok`/`#err` Result variants consistently.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Audit and fix the backend `isAdminUsername` function in `backend/main.mo` to ensure it correctly looks up the provided username string in the `adminUsernames` stable map and returns `true` when the username is present. Verify the function signature, map key comparison, and that the seeded 'Frosty' entry survives upgrades via `migration.mo`.",
      "reqIds": [
        "REQ-29"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Audit and fix `backend/main.mo` to ensure the `addCategory`, `updateCategory`, `deleteCategory`, `addProduct`, `updateProduct`, and `deleteProduct` functions compile cleanly, correctly persist data to stable storage, and consistently return `#ok`/`#err` Result variants. Verify the actor compiles without errors after changes.",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Fix theme and 3D Three.js loading screen not rendering/loading correctly on the storefront",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Remove the Categories section from the storefront/product listing UI (keep backend category management in admin panel)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Replace the dark neon gaming theme entirely with a sunset aesthetic: deep dusk purples/navy-black backgrounds, golden yellow/burnt orange/dusky pink/soft purple accents, warm sunset glow effects — aligned with the NYC sunset 3D loading screen. Apply across all pages: storefront, product pages, checkout, order confirmation, admin panel, navbar, footer. 'Game Vault' gradient text stays unchanged.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Update `frontend/src/pages/AdminPanelPage.tsx` to ensure it correctly uses the `AdminAccessControl` guard and does not introduce any additional async delays, redundant admin checks, or state conditions that could cause a perpetual loading/verifying state. The page must render the admin tabbed content (categories, products, orders, whitelist) as soon as `AdminAccessControl` grants access.",
      "reqIds": [
        "REQ-45"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Audit and fix the `addCategory` function in `backend/main.mo` to ensure it correctly accepts `name` and `description` parameters, generates a unique ID, persists the new category to stable storage, and returns a `#ok` result variant. Ensure `updateCategory` and `deleteCategory` are equally correct, compile without errors, and return consistent `#ok`/`#err` Result variants.",
      "reqIds": [
        "REQ-47"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Fix the `addCategory` and `updateCategory` mutation functions in `frontend/src/hooks/useQueries.ts` to correctly await the actor call, unwrap the Motoko `#ok`/`#err` Result variant, throw a JavaScript `Error` when the backend returns `#err` (so `onError` handlers fire), and invalidate the `categories` React Query cache on success.",
      "reqIds": [
        "REQ-48"
      ],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Audit and fix the `isAdminUsername` function in `backend/main.mo` to ensure it correctly looks up the provided username string in the `adminUsernames` stable map using a case-sensitive equality check and returns `true` when the username is present. Verify that the seed entry for 'Frosty' is initialised in the stable map at actor construction time (e.g. in a post-upgrade hook or inline initialisation) so it survives canister upgrades. The function signature must accept a `Text` parameter and return `Bool`.",
      "reqIds": [
        "REQ-53"
      ],
      "status": "pending"
    },
    {
      "id": "AR-39",
      "summary": "Audit `frontend/src/pages/AdminPanelPage.tsx` to confirm it relies solely on the `AdminAccessControl` wrapper for its access gate and does not introduce any additional async delays, redundant `isAdminUsername` calls, or internal state conditions that could produce a perpetual loading/verifying state. The page must render its tabbed content (categories, products, orders, whitelist) immediately once `AdminAccessControl` grants access.",
      "reqIds": [
        "REQ-54"
      ],
      "status": "pending"
    },
    {
      "id": "AR-40",
      "summary": "Remove the Categories section from the admin panel entirely — remove CategoryManager tab, CategoryForm, and all related category management UI from the admin panel. Backend category data model remains untouched.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Remove the category field/dropdown from the ProductForm.tsx create/edit product form in the admin panel, and update associated form state, validation, and mutation calls in useQueries.ts to no longer pass a category value",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Replace the 3D Three.js loading screen with a royalty-free New York sunset video (from Pexels/Pixabay public CDN) as the full-screen background. Preserve the 40-second timer, 'Game Vault' gradient text progress reveal, and 'Enter Store' button unlock behaviour.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-43",
      "summary": "Add a Subscriptions tab (navbar-accessible) with 4 tiers: Starter, Basic, Premium, Pro — monthly/yearly toggle, disclaimer text under all tier titles ('If you select monthly you will need to pay monthly each time'), progressive perks per tier (Pro gets all), 7-day free trial badge on eligible tiers, PayPal and Crypto checkout only. Placeholder prices: Starter £2.99/mo, Basic £5.99/mo, Premium £9.99/mo, Pro £14.99/mo (~20% yearly discount). Mock checkout flow.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-44",
      "summary": "Add subscription management to the admin panel: edit monthly and yearly prices independently per tier (Starter, Basic, Premium, Pro), toggle 7-day free trial on/off per tier independently. All changes reflect live on the user-facing subscriptions tab.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-45",
      "summary": "Store subscription tier data (name, monthly price, yearly price, perks list, free trial enabled flag) in backend stable storage (Motoko). Expose admin functions to update prices and free trial toggle per tier.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-46",
      "summary": "Add a `SubscriptionTier` data type to `backend/main.mo` with fields: `id: Nat`, `name: Text`, `monthlyPrice: Float`, `yearlyPrice: Float`, `perks: [Text]`, `freeTrialEnabled: Bool`. Initialise stable storage for subscription tiers and seed it with four default tiers on first deployment: Starter (£2.99/mo, ~£28.70/yr), Basic (£5.99/mo, ~£57.50/yr), Premium (£9.99/mo, ~£95.90/yr), Pro (£14.99/mo, ~£143.90/yr). Each tier must have a curated perks list — Starter gets minor perks, Basic gets more, Premium gets most, Pro gets all perks. Expose the following backend functions: `getSubscriptionTiers() : async [SubscriptionTier]`, `updateSubscriptionTierPrices(id: Nat, monthlyPrice: Float, yearlyPrice: Float) : async Result.Result<(), Text>`, `setSubscriptionTierFreeTrial(id: Nat, enabled: Bool) : async Result.Result<(), Text>`. All mutating functions must be caller-gated to admin usernames only.",
      "reqIds": [
        "REQ-62"
      ],
      "status": "pending"
    },
    {
      "id": "AR-47",
      "summary": "Admin settings: PayPal wallet address field, Bitcoin wallet address field, Ethereum wallet address field — Bitcoin and Ethereum shown to customers during crypto checkout as QR code + copyable address",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-48",
      "summary": "New 'Payments' tab in admin panel listing all orders across all payment methods (PayPal, Crypto, UK Gift Cards, Pay in 3) with Approve/Decline controls per order; buyer sees in-app status notification when order is approved or declined",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-49",
      "summary": "Capture UK Gift Card number and balance at checkout and display in admin Payments tab alongside other orders with approve/decline controls",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-50",
      "summary": "Add three new stable storage fields to `backend/main.mo` for store settings: `paypalWalletAddress: Text`, `bitcoinWalletAddress: Text`, and `ethereumWalletAddress: Text`. Expose the following backend functions: `getStoreSettings() : async { paypalWalletAddress: Text; bitcoinWalletAddress: Text; ethereumWalletAddress: Text }`, `updatePaypalWalletAddress(address: Text) : async Result.Result<(), Text>`, `updateBitcoinWalletAddress(address: Text) : async Result.Result<(), Text>`, and `updateEthereumWalletAddress(address: Text) : async Result.Result<(), Text>`. All mutating functions must be gated to admin usernames only. All three wallet address fields must default to empty string on first deployment.",
      "reqIds": [
        "REQ-68"
      ],
      "status": "pending"
    },
    {
      "id": "AR-51",
      "summary": "Add an `approvalStatus` field to the Order data type in `backend/main.mo` using a variant type with three states: `#pending`, `#approved`, `#declined`. All newly placed orders must default to `#pending`. Add `giftCardNumber: Text` and `giftCardBalance: Text` fields to the Order data type to store UK Gift Card details captured at checkout (both default to empty string for non-gift-card orders).",
      "reqIds": [
        "REQ-73"
      ],
      "status": "pending"
    },
    {
      "id": "AR-52",
      "summary": "Expose two admin-gated functions in `backend/main.mo`: `approveOrder(orderId: Nat) : async Result.Result<(), Text>` and `declineOrder(orderId: Nat) : async Result.Result<(), Text>`. Both functions must verify the caller's username is in the admin whitelist before mutating the order's `approvalStatus`. Return `#err` with a descriptive message if the order is not found or the caller is not an admin.",
      "reqIds": [
        "REQ-74"
      ],
      "status": "pending"
    },
    {
      "id": "AR-53",
      "summary": "Expose a public query function in `backend/main.mo`: `getOrdersByBuyer(principal: Principal) : async [Order]` that returns all orders placed by the given principal, including their current `approvalStatus`. This allows the buyer-facing UI to query and display their order statuses.",
      "reqIds": [
        "REQ-75"
      ],
      "status": "pending"
    },
    {
      "id": "AR-60",
      "summary": "Update `backend/migration.mo` to handle migration of existing Order records to include the new `approvalStatus` (defaulting to `#pending`), `giftCardNumber` (defaulting to `\"\"`), and `giftCardBalance` (defaulting to `\"\"`) fields. Ensure the migration preserves all existing order data and does not lose any previously stored orders.",
      "reqIds": [
        "REQ-82"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Gaming Accounts Store",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}