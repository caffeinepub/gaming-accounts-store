{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-26T14:57:02.956Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 2,
    "implemented": 0,
    "items": [
      {
        "id": "REQ-1",
        "summary": "Fix the backend admin authorization logic so that the caller's identity is correctly verified as an admin when invoking createProduct, updateProduct, and deleteProduct functions. The current check fails with 'Unauthorized: Only admins can update products' even when the user is logged in as an admin. Ensure the admin identity check uses the caller's principal (msg.caller) and correctly matches it against the stored admin list or whitelist.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-2",
        "summary": "Ensure the frontend ProductForm and ProductManager components pass the authenticated actor (not an anonymous actor) when calling createProduct, updateProduct, and deleteProduct mutations. Verify that useQueries hooks for these mutations use the authenticated actor from useActor so the caller principal is properly set.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/admin/ProductForm.tsx",
          "frontend/src/components/admin/ProductManager.tsx"
        ],
        "matchedFiles": []
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "build-template/README.md",
    "caffeine.lock.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/AdminAccessControl.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}